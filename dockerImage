FROM ubuntu:18.04

WORKDIR root/project

ADD . $PROJECT_ROOT


RUN apt update
RUN apt install -y wget
RUN apt install -y g++
RUN apt install -y make
RUN apt install -y zlib1g-dev
RUN apt install -y libcurl4-openssl-dev

RUN wget https://cmake.org/files/v3.10/cmake-3.10.0.tar.gz && tar -xzf cmake-3.10.0.tar.gz && cd cmake-3.10.0 && ./bootstrap --system-curl && make -j$(nproc) && make install

RUN apt install -y libgtest-dev
RUN cd /usr/src/gtest && cmake CMakeLists.txt && make && cp *.a /usr/lib


